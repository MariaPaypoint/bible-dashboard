{
  "meta": {
    "project": "Bible Anomalies Management",
    "date": "2025-12-10",
    "prepared_by": "Generated by Software Development Manager"
  },
  "product_overview": "The Bible Anomalies page is designed to identify, verify, and correct timing anomalies in audio Bible word alignments, ensuring precise synchronization of scripture audio and text.",
  "core_goals": [
    "Enable users to filter and view detailed lists of alignment anomalies by voice, book, type, and status.",
    "Provide tools to listen to problematic verses in context with audio playback and quick check modes.",
    "Allow manual correction of verse timing through intuitive controls and overlap detection.",
    "Support manual creation of anomaly tickets to capture errors missed by automated detection.",
    "Streamline user workflow with auto advance and quick verification to improve efficiency."
  ],
  "key_features": [
    "Comprehensive filtering options by voice, book, anomaly type, and status for targeted anomaly review.",
    "Detailed anomalies table with columns for code, reference, word, anomaly type, info, ratio, status, and action buttons.",
    "Floating mini audio player with navigation controls to play and review verses.",
    "Quick check mode for fast playback of verse beginnings and ends.",
    "Timing correction interface enabling manual adjustment of start/end times with multiple precision steps.",
    "Automatic detection and indication of verse timing overlaps with tools to fix them.",
    "Manual anomaly ticket creation dialog for reporting uncaught issues.",
    "Status update dropdowns for rapid anomaly status changes within the anomalies list."
  ],
  "user_flow_summary": [
    "User selects a Voice (Bible translation) to load related anomalies.",
    "System displays filtered list of anomalies based on selected criteria.",
    "User listens to the verse using play controls in the list or floating mini player.",
    "User confirms error or marks alignment as correct.",
    "If timing needs correction, user opens verse timing adjustment tools, modifies timings, previews changes, and applies corrections.",
    "With Auto Advance enabled, system automatically loads the next anomaly after each action.",
    "User can create a new anomaly ticket manually if an error is found not detected by the system."
  ],
  "validation_criteria": [
    "Filtering properly loads anomaly lists according to selected voice, book, type, and status filters.",
    "Audio playback works smoothly with verse highlighting and quick check features.",
    "Timing adjustments correctly modify the start/end timestamps and preview audio accordingly.",
    "Overlap detection triggers when verse timings conflict and tools allow resolution.",
    "Status changes are saved and reflected in the anomalies list immediately.",
    "Manual anomaly creation dialog saves new tickets correctly and updates the anomaly list.",
    "Auto advance functionality seamlessly loads the next anomaly after confirmation or correction actions."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Vue 3",
      "Vite",
      "TailwindCSS",
      "PrimeVue",
      "Axios",
      "Vue Router"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "JWT-based authentication with login page and route guards. Handles token storage and authorization headers for API requests.",
        "files": [
          "src/Components/Login.vue",
          "src/services/auth.ts",
          "src/composables/useAuth.ts",
          "src/router/index.ts"
        ]
      },
      {
        "name": "Bible Voices Management",
        "description": "View and manage Bible translation voices. Displays list of voices with translation info and allows toggling voice active status.",
        "files": [
          "src/Components/BibleVoices.vue",
          "src/composables/useApi.ts"
        ]
      },
      {
        "name": "Bible Anomalies",
        "description": "View, filter, and manage voice anomalies with pagination. Supports filtering by anomaly type, book, status, and sorting. Allows updating anomaly status and creating new anomalies.",
        "files": [
          "src/Components/BibleAnomalies.vue",
          "src/composables/useApi.ts"
        ]
      },
      {
        "name": "Bible Inspect",
        "description": "Inspect Bible chapters with audio alignment. View verses with timing data and audio playback.",
        "files": [
          "src/Components/BibleInspect.vue",
          "src/composables/useAudioPlayback.ts"
        ]
      },
      {
        "name": "Alignment Tasks",
        "description": "Manage MFA (Montreal Forced Aligner) alignment tasks. Create, view, update, and delete alignment tasks with file uploads.",
        "files": [
          "src/Components/AlignmentTasks.vue",
          "src/Components/AlignmentTaskDialog.vue",
          "src/composables/useAlignmentTasks.ts"
        ]
      },
      {
        "name": "Timing Correction",
        "description": "Manual timing correction for audio-text alignment with waveform visualization.",
        "files": [
          "src/Components/TimingCorrection.vue"
        ]
      },
      {
        "name": "Audio Playback",
        "description": "Audio player component with playback controls and verse-level audio segment playback.",
        "files": [
          "src/Components/BaseAudioPlayer.vue",
          "src/composables/useAudioPlayback.ts"
        ]
      },
      {
        "name": "API Services",
        "description": "Axios-based API services for Bible API and Alignment API. Handles translations, languages, books, voices, anomalies, and alignment tasks.",
        "files": [
          "src/services/api.ts",
          "src/config/api.ts",
          "src/types/api.ts"
        ]
      },
      {
        "name": "Base Layout",
        "description": "Main application layout with sidebar navigation and content area.",
        "files": [
          "src/Components/BaseLayout.vue"
        ]
      },
      {
        "name": "Welcome Page",
        "description": "Landing page displayed after login with dashboard overview.",
        "files": [
          "src/Components/Welcome.vue"
        ]
      }
    ]
  }
}
