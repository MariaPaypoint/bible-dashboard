{
  "meta": {
    "project": "Bible Anomalies Management",
    "date": "2025-12-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Bible Anomalies Management is a specialized web application page designed to detect, review, and correct audio-to-text alignment anomalies in Bible translations. It helps users efficiently validate and fix timing errors in audio verses to ensure accurate synchronization between spoken words and their textual representation.",
  "core_goals": [
    "Enable users to filter and identify audio alignment anomalies by voice, Bible book, anomaly type, and status.",
    "Provide an interactive tabular list of anomalies with detailed information and quick actions like audio playback and status updates.",
    "Facilitate detailed audio review and manual correction of verse timing with visual aids and adjustable parameters.",
    "Allow users to manually create anomaly reports when automatic detection misses issues.",
    "Support efficient workflow from anomaly detection to correction with features like auto-advance and quick playback modes."
  ],
  "key_features": [
    "Comprehensive filters including Voice, Book, Anomaly Type, and Status to pinpoint relevant anomalies.",
    "Anomalies list displayed in a table showing code, verse reference, affected word(s), anomaly type, additional info, deviation ratio, status dropdown, and playback action.",
    "Floating mini audio player with play, pause, next/previous navigation, quick check mode for rapid listening, and auto advance to the next anomaly.",
    "Verse timing correction tools allowing precise manual adjustment of verse start and end times with multiple step increments (1.0s, 0.1s, 0.01s).",
    "Overlap detection to automatically highlight timing conflicts with adjacent verses and provide fixing tools.",
    "Modal dialog for users to report new anomalies not detected automatically.",
    "Status management via dropdown for quick updating of anomaly states (detected, confirmed, fixed, etc.)."
  ],
  "user_flow_summary": [
    "User selects a Voice (Bible translation) to load associated anomalies and view statistics on open and total anomalies.",
    "User applies additional filters such as Book, Anomaly Type, and Status to narrow down the anomalies list.",
    "User reviews the anomaly list and clicks the play button to listen to the audio segment with the problematic verse and highlighted words.",
    "User confirms or dismisses the error by changing the anomaly status through a dropdown menu.",
    "If timing adjustments are necessary, user invokes the timing correction tool to shift start and end verse timestamp positions, previews the changes via audio playback.",
    "User applies correction, with system detecting any overlaps with neighboring verses and assisting in fixing those overlaps.",
    "If enabled, auto advance feature moves the user to the next anomaly automatically after changes are applied.",
    "If an anomaly is missed, user can open a dialog to create a new anomaly ticket detailing the issue."
  ],
  "validation_criteria": [
    "Filtering by each criterion (Voice, Book, Anomaly Type, Status) correctly updates the anomalies list and statistics.",
    "The anomalies table populates with accurate data, showing all specified columns and reflecting real-time status changes.",
    "Audio playback plays correct verse segment with word highlighting corresponding to the anomaly context.",
    "Timing corrections precisely adjust start/end times and prevent overlaps after applying changes.",
    "The anomaly creation dialog validates input and successfully creates new anomaly entries.",
    "Auto advance feature reliably navigates to the next anomaly after status updates or timing corrections.",
    "UI elements use stable selectors (e.g., data-testid) for automation and testing consistency.",
    "The page performs efficiently with pagination and filtering, with no errors or crashes in typical workflows."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Vue 3",
      "Vite",
      "TailwindCSS",
      "PrimeVue",
      "Axios",
      "Vue Router"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "JWT-based authentication with login page and route guards. Handles token storage and authorization headers for API requests.",
        "files": [
          "src/Components/Login.vue",
          "src/services/auth.ts",
          "src/composables/useAuth.ts",
          "src/router/index.ts"
        ]
      },
      {
        "name": "Bible Voices Management",
        "description": "View and manage Bible translation voices. Displays list of voices with translation info and allows toggling voice active status.",
        "files": [
          "src/Components/BibleVoices.vue",
          "src/composables/useApi.ts"
        ]
      },
      {
        "name": "Bible Anomalies",
        "description": "View, filter, and manage voice anomalies with pagination. Supports filtering by anomaly type, book, status, and sorting. Allows updating anomaly status and creating new anomalies.",
        "files": [
          "src/Components/BibleAnomalies.vue",
          "src/composables/useApi.ts"
        ]
      },
      {
        "name": "Bible Inspect",
        "description": "Inspect Bible chapters with audio alignment. View verses with timing data and audio playback.",
        "files": [
          "src/Components/BibleInspect.vue",
          "src/composables/useAudioPlayback.ts"
        ]
      },
      {
        "name": "Alignment Tasks",
        "description": "Manage MFA (Montreal Forced Aligner) alignment tasks. Create, view, update, and delete alignment tasks with file uploads.",
        "files": [
          "src/Components/AlignmentTasks.vue",
          "src/Components/AlignmentTaskDialog.vue",
          "src/composables/useAlignmentTasks.ts"
        ]
      },
      {
        "name": "Timing Correction",
        "description": "Manual timing correction for audio-text alignment with waveform visualization.",
        "files": [
          "src/Components/TimingCorrection.vue"
        ]
      },
      {
        "name": "Audio Playback",
        "description": "Audio player component with playback controls and verse-level audio segment playback.",
        "files": [
          "src/Components/BaseAudioPlayer.vue",
          "src/composables/useAudioPlayback.ts"
        ]
      },
      {
        "name": "API Services",
        "description": "Axios-based API services for Bible API and Alignment API. Handles translations, languages, books, voices, anomalies, and alignment tasks.",
        "files": [
          "src/services/api.ts",
          "src/config/api.ts",
          "src/types/api.ts"
        ]
      },
      {
        "name": "Base Layout",
        "description": "Main application layout with sidebar navigation and content area.",
        "files": [
          "src/Components/BaseLayout.vue"
        ]
      },
      {
        "name": "Welcome Page",
        "description": "Landing page displayed after login with dashboard overview.",
        "files": [
          "src/Components/Welcome.vue"
        ]
      }
    ]
  }
}
